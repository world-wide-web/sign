# “家长-学员关系绑定流程” 功能需求概要

TODO：需要考虑合并功能

## 流程

### 邀请绑定流程：

```mermaid
sequenceDiagram

家长-->>系统: 进入学员的亲友团页面

系统-->>家长: 展现已加入亲友团的成员，并展现留空按钮引导邀请常见关系的亲友

家长-->>系统: 点击留空按钮

系统-->>家长: 请求在微信通讯录中选择亲友

系统-->>亲友: 发送绑定邀请卡片（小程序入口）

亲友-->>系统: 点击邀请卡片进入小程序

系统-->>亲友: 展示邀请详情，展示“确认绑定”按钮

亲友-->>系统: 按需编辑加入亲友团的信息并确认绑定【见①】

系统-->>亲友: 完成绑定关系，提示绑定成功

系统-->>亲友: 按需引导处理冗余关系【见②】

```

#### ① 展示邀请详情时，展示内容包括：邀请人名称、学员名称、与学员的关系，其中，与学员的关系可编辑，点击确认时提交编辑结果

#### ② 如发现亲友名下原有绑定关系与新建立的疑似冗余，按需引导处理冗余关系

### 请求绑定流程：

```mermaid
sequenceDiagram

家长-->>系统: 进入“我家小孩”页面

系统-->>家长: 展现自己作为监护人的学员列表，并添加按钮【见①】

家长-->>系统: 点击添加按钮

系统-->>家长: 请求在微信通讯录中选择亲友

系统-->>亲友: 发送绑定请求卡片（小程序入口）

亲友-->>系统: 点击请求卡片进入小程序

系统-->>亲友: 展示请求详情，展示自己作为监护人的学员列表

亲友-->>系统: 在列表中，选定要与家长绑定的学员，并指明关系【见②】

系统-->>亲友: 完成绑定关系，提示绑定成功

系统-->>亲友: 按需引导处理冗余关系【见③】

```

#### ① 界面上须告知用户：请求为孩子报名的亲友将自己绑定成为监护人

#### ② 应该考虑支持多选，这样可以批量搞掂多个绑定

#### ③ 如发现亲友名下原有绑定关系与新建立的疑似冗余，按需引导处理冗余关系

## 页面规划

1. 名下的学员列表
	* 用户
		* 学员
		* 家长
	* 功能
		* 展现当前用户本人和他作为监护人的学员列表

3. 孩子的亲友团列表

4. 亲友详情展示/编辑

5. 请求加入亲友团
<!--stackedit_data:
eyJoaXN0b3J5IjpbOTAzMTQ3NzcsLTE3NzExNTk5NzIsMTgwMj
UyODgwNCwtMTk2NzExNjI5LC04MTUxMDQ2LC0zNTkwODE2Mywt
MTQyNzQ1MTExMiwtMTM4MTgwMDI3LC0xNTgxMjU0NTAzLDE4NT
g5ODMyODEsLTE5MTY4MDQ0NTMsMTc1NzcxODc5NywxMTAwNzYw
NzY1LC0yMDIxNzY5ODQwLDEwODc1ODQwNzQsNzI0MzIyNyw1Mz
gwMjM4OTIsLTk2NzA3NzM3MiwxMzg1MTc0MDYzLC0xMDc0OTk0
Mzg5XX0=
-->