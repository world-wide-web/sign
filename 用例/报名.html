---


---

<h1 id="“现场报名”-功能需求概要">“现场报名” 功能需求概要</h1>
<h3 id="整体流程：">整体流程：</h3>
<p>TODO：补上第一次注册时身份声明（我是学员或我是学员的家长，谁谁谁）<br>
DONE：教员（Instructor）提供的小程序码需要带上教员标识（Instructor Id），以便机构可跟踪教员（Instructor）导购绩效</p>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-cRshqrJtq9RPl5ab" width="100%" style="max-width: 830.53125px;" viewBox="0 0 830.53125 1631"><g transform="translate(-12, -12)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M272.3828125,144L272.3828125,169L272.3828125,194" marker-end="url(#arrowhead23211)" style="fill:none"></path><defs><marker id="arrowhead23211" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M272.3828125,292L272.3828125,317L272.3828125,342" marker-end="url(#arrowhead23212)" style="fill:none"></path><defs><marker id="arrowhead23212" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M272.3828125,414L272.3828125,439L272.3828125,464" marker-end="url(#arrowhead23213)" style="fill:none"></path><defs><marker id="arrowhead23213" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M272.3828125,536L272.3828125,561L272.3828125,586" marker-end="url(#arrowhead23214)" style="fill:none"></path><defs><marker id="arrowhead23214" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M272.3828125,658L272.3828125,683L272.3828125,708" marker-end="url(#arrowhead23215)" style="fill:none"></path><defs><marker id="arrowhead23215" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M272.3828125,780L272.3828125,805L272.8828125,830.5" marker-end="url(#arrowhead23216)" style="fill:none"></path><defs><marker id="arrowhead23216" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M242.5189389699011,917.1361264699011L168.2421875,985L168.2421875,1072L168.2421875,1159L168.2421875,1220L168.2421875,1268L222.48209635416666,1293" marker-end="url(#arrowhead23217)" style="fill:none"></path><defs><marker id="arrowhead23217" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M303.2466860300989,917.1361264699011L376.5234375,985L376.5234375,1023" marker-end="url(#arrowhead23218)" style="fill:none"></path><defs><marker id="arrowhead23218" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M376.5234375,1121L376.5234375,1159L376.5234375,1197" marker-end="url(#arrowhead23219)" style="fill:none"></path><defs><marker id="arrowhead23219" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M376.5234375,1243L376.5234375,1268L322.2835286458333,1293" marker-end="url(#arrowhead23220)" style="fill:none"></path><defs><marker id="arrowhead23220" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M352.4615778688525,1339L484.765625,1377L484.765625,1415" marker-end="url(#arrowhead23221)" style="fill:none"></path><defs><marker id="arrowhead23221" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M192.30404713114754,1339L60,1377L60,1438L60,1486L121.02954382183907,1511" marker-end="url(#arrowhead23222)" style="fill:none"></path><defs><marker id="arrowhead23222" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M484.765625,1461L484.765625,1486L423.73608117816093,1511" marker-end="url(#arrowhead23223)" style="fill:none"></path><defs><marker id="arrowhead23223" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(168.2421875,1159)" style="opacity: 1;"><g transform="translate(-32,-13)" class="label"><foreignObject width="64" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">课时充足</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(376.5234375,985)" style="opacity: 1;"><g transform="translate(-32,-13)" class="label"><foreignObject width="64" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">课时不足</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(484.765625,1377)" style="opacity: 1;"><g transform="translate(-16,-13)" class="label"><foreignObject width="32" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">教员</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(60,1438)" style="opacity: 1;"><g transform="translate(-40,-13)" class="label"><foreignObject width="80" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">学员或家长</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="生成报名订单" transform="translate(272.3828125,82)" style="opacity: 1;"><rect rx="0" ry="0" x="-151.9375" y="-62" width="303.875" height="124"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-141.9375,-52)"><foreignObject width="283.875" height="104"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><center>教员（Instructor）根据学员（Student）<br>或家长（Guardian）需求，<br>排布若干授课安排（Schedule），<br>生成一个报名订单（Order）</center></div></foreignObject></g></g></g><g class="node" id="生成报名码" transform="translate(272.3828125,243)" style="opacity: 1;"><rect rx="0" ry="0" x="-184" y="-49" width="368" height="98"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-174,-39)"><foreignObject width="348" height="78"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><center>系统（System）展现报名订单（Order）的详情，<br>并展现基于教员（Instructor）生成的<br>可用于扫码报名的小程序码（QrCode）</center></div></foreignObject></g></g></g><g class="node" id="扫码报名" transform="translate(272.3828125,378)" style="opacity: 1;"><rect rx="0" ry="0" x="-154" y="-36" width="308" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-144,-26)"><foreignObject width="288" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><center>学员（Student）或家长（Guardian）<br>通过微信扫码打开小程序，进入报名页面</center></div></foreignObject></g></g></g><g class="node" id="展现报名订单" transform="translate(272.3828125,500)" style="opacity: 1;"><rect rx="0" ry="0" x="-147.3046875" y="-36" width="294.609375" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-137.3046875,-26)"><foreignObject width="274.609375" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><center>系统（System）展现报名订单的详情，<br>并提供确认按钮</center></div></foreignObject></g></g></g><g class="node" id="确认并提交结账请求" transform="translate(272.3828125,622)" style="opacity: 1;"><rect rx="0" ry="0" x="-141.28125" y="-36" width="282.5625" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-131.28125,-26)"><foreignObject width="262.5625" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><center>学员（Student）或家长（Guardian）<br>点击确认按钮提交结账请求</center></div></foreignObject></g></g></g><g class="node" id="检查课时数量" transform="translate(272.3828125,744)" style="opacity: 1;"><rect rx="0" ry="0" x="-162" y="-36" width="324" height="72"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-152,-26)"><foreignObject width="304" height="52"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><center>系统（System）根据学员（Student）名下<br>的课时包中的课时是否充足做以下分支处理</center></div></foreignObject></g></g></g><g class="node" id="判断课时数量" transform="translate(272.3828125,888.5)" style="opacity: 1;"><polygon points="58.5,0 117,-58.5 58.5,-117 0,-58.5" rx="5" ry="5" transform="translate(-58.5,58.5)"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-32,-13)"><foreignObject width="64" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><center>是否充足</center></div></foreignObject></g></g></g><g class="node" id="扣课并提示报名成功" transform="translate(272.3828125,1316)" style="opacity: 1;"><rect rx="0" ry="0" x="-82" y="-23" width="164" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-72,-13)"><foreignObject width="144" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">扣课并提示报名成功</div></foreignObject></g></g></g><g class="node" id="请求支付" transform="translate(376.5234375,1072)" style="opacity: 1;"><rect rx="0" ry="0" x="-115.3046875" y="-49" width="230.609375" height="98"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-105.3046875,-39)"><foreignObject width="210.609375" height="78"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><center>系统（System）提示课时不足<br>计算报名需补差价<br>请求支付</center></div></foreignObject></g></g></g><g class="node" id="支付完成" transform="translate(376.5234375,1220)" style="opacity: 1;"><rect rx="0" ry="0" x="-173.28125" y="-23" width="346.5625" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-163.28125,-13)"><foreignObject width="326.5625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><center>学员（Student）或家长（Guardian）支付完成</center></div></foreignObject></g></g></g><g class="node" id="请求身份声明" transform="translate(484.765625,1438)" style="opacity: 1;"><rect rx="0" ry="0" x="-349.765625" y="-23" width="699.53125" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-339.765625,-13)"><foreignObject width="679.53125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><center>系统（System）向发起流程的教员（Instructor）推送一个请求：确认上课人与支付人之间的关系</center></div></foreignObject></g></g></g><g class="node" id="身份声明" transform="translate(272.3828125,1573)" style="opacity: 1;"><rect rx="0" ry="0" x="-231.7421875" y="-62" width="463.484375" height="124"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-221.7421875,-52)"><foreignObject width="443.484375" height="104"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><center>教员（Instructor）、学员（Student）或家长（Guardian）声明<br>上课人与支付人的关系：<br>是本人还是孩子；<br>如果是孩子，支付人是孩子的谁？</center></div></foreignObject></g></g></g><g class="node" id="报名成功" transform="translate(645.625,82)" style="opacity: 1;"><rect rx="0" ry="0" x="-171.3046875" y="-23" width="342.609375" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-161.3046875,-13)"><foreignObject width="322.609375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><center>系统（System）扣除课时，展示报名成功页面</center></div></foreignObject></g></g></g></g></g></g></svg></div>
<h3 id="页面规划：">页面规划：</h3>
<ol>
<li>
<p>订单生成页</p>
<ul>
<li>用户
<ul>
<li>教员（Instructor）</li>
<li>学员（Student）</li>
<li>家长（Guardian）</li>
</ul>
</li>
<li>状态
<ul>
<li>a. 定位课程（默认态）
<ul>
<li>功能
<ul>
<li>根据名称搜索机构（Organization）下课程（Course）</li>
</ul>
</li>
<li>展示信息
<ul>
<li>搜索课程（Course）的搜索框</li>
</ul>
</li>
</ul>
</li>
<li>b. 搜索课程结果
<ul>
<li>功能
<ul>
<li>列出课程（Course）下的所有课班（Class）
<ul>
<li>仍有学位的课班（Class）用彩色展现</li>
<li>已满员的课班（Class）用灰色展现</li>
</ul>
</li>
<li>点选某课班（Class）后，提供列表和周期表两种形式展现该课班（Class）下的所有授课安排（Schedule）</li>
</ul>
</li>
<li>展示信息
<ul>
<li>课程（Course）信息，包括名称（Name）、简介（Description）、课程负责人列表（Instructors）</li>
<li>班课（Class）信息，包括名称（Name）、简介（Description）、班课负责人列表（Instructors）</li>
</ul>
</li>
</ul>
</li>
<li>c. 展现课班（Class）下的所有授课安排（Schedule）
<ul>
<li>功能
<ul>
<li>根据课班（Class）的配置，确定授课安排（Schedule）是必须全选还是允许部分选择，提供不同的交互形式供用户选择，选择后将授课安排（Schedule）添加到订单</li>
<li>授课安排（Schedule）添加完毕后，点击生成订单按钮，将生成订单的请求提交到系统（System）</li>
<li>系统（System）生成订单完毕后，跳转到订单确认页</li>
</ul>
</li>
<li>展示信息
<ul>
<li>授课安排（Schedule）信息，包括上课时间（Start Time）、上课地点（Location）、上课教员（Instructor）、上课时长（Last Time）</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>订单确认页</p>
<ul>
<li>用户
<ul>
<li>教员（Instructor）</li>
<li>学员（Student）</li>
<li>家长（Guardian）</li>
</ul>
</li>
<li>功能
<ul>
<li>展示订单（Order）信息，供用户确认</li>
<li>订单中的授课安排列表（Schedules）于学员（Student）的上课安排列表（Schedules）存在冲突时，提示冲突部分</li>
<li>提供确认按钮，供用户在确认时提交结账请求</li>
</ul>
</li>
<li>展示信息
<ul>
<li>订单（Order）信息，包括订单发起人（Order Initiator）、订单发起时间（Order Time）、订单中授课安排列表（Order Schedules）</li>
<li>授课安排（Schedule）信息，包括上课时间（Start Time）、上课地点（Location）、上课教员（Instructor）、上课时长（Last Time）</li>
</ul>
</li>
</ul>
</li>
<li>
<p>身份声明页</p>
<ul>
<li>用户
<ul>
<li>教员（Instructor）</li>
<li>学员（Student）</li>
<li>家长（Guardian）</li>
</ul>
</li>
<li>功能
<ul>
<li></li>
</ul>
</li>
</ul>
</li>
</ol>

